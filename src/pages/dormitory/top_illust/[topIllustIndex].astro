---
/**
 * トップイラストの画像をモーダルで大きく表示する
 */
import type { GetStaticPaths, InferGetStaticPropsType } from "astro";

import { dormitoryTopIllustInfos } from "@constants/dormitoryTopIllustInfo";

export const getStaticPaths = (async () => {
  return dormitoryTopIllustInfos.map((_, index) => ({
    params: { topIllustIndex: String(index + 1) },
  }));
}) satisfies GetStaticPaths;
type Props = InferGetStaticPropsType<typeof getStaticPaths>;

import { Image } from "astro:assets";

import Base from "@layouts/Base.astro";

const { topIllustIndex } = Astro.params;

const index = parseInt(topIllustIndex);
const { image, illustrator } = dormitoryTopIllustInfos[index];
---

<Base
  title={`トップイラスト ${index + 1} | ボイボ寮 | VOICEVOX`}
  description=`以前のトップイラストをご覧いただけます。イラスト：${illustrator}`
  image={image}
  imageAlt=""
>
  {/* TODO: コンテナとか入れる */}
  <div>
    <Image
      src={image}
      style={{ width: "100%", height: "100%", objectFit: "contain" }}
      alt=`トップイラスト${index + 1}の大きな画像`
      `
    />
  </div>
</Base>
